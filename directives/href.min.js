!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Directives.Href=function($parse,$location,$log){return{restrict:"A",link:function($scope,$element,$attrs){if(Stratus.Instances[_.uniqueId("href_")]=$scope,$scope.href=null,$attrs.stratusHref){var href=$parse($attrs.stratusHref);$scope.$watch("$parent",function(newValue){void 0!==newValue&&($scope.href=href($scope.$parent),$log.log("stratus-href:",href($scope.href)))}),$element.bind("click",function(){$scope.$apply(function(){$scope.href&&$location.path($scope.href)})})}}}}});