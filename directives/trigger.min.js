!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Directives.Trigger=function($parse,$log){return{restrict:"A",require:"ngModel",link:function($scope,$element,$attrs,ngModel){Stratus.Instances[_.uniqueId("trigger_")]=$scope,$scope.trigger=null,$scope.$watch(function(){return $attrs.stratusTrigger},function(newValue){void 0!==newValue&&($scope.trigger=$parse($attrs.stratusTrigger))}),$scope.$watch(function(){return ngModel.$modelValue},function(newValue){void 0!==newValue&&$scope.trigger&&$scope.trigger($scope.$parent)})}}}});