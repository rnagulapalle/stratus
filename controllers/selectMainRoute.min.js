!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Controllers.SelectMainRoute=["$scope","$mdDialog",function($scope,$mdDialog){Stratus.Instances[_.uniqueId("select_main_route_")]=$scope,$scope.Stratus=Stratus,$scope._=_,$scope.routes=[],$scope.mainRoute=0,$scope.setAsHomePage=function(model,$event){var confirm=$mdDialog.confirm().title("Set As Home Page").textContent("Are you sure you want to set this current page as your main home page?  If you confirm, then all traffic to your main domain will load this page. Please also remember that if your current home page does not have a secondary friendly URL, the system will create a temporary URL for it (which you may want to change). And there may not be a way to access that page if it's not linked from your menu.").targetEvent($event).ok("Confirm").cancel("Cancel");$mdDialog.show(confirm).then(function(){model.data.main=!0,model.save(),model.data.routing.push({homePage:!0})},function(){return!1})},$scope.$watch("model.data.routing",function(routing){routing&&($scope.routes=routing,angular.forEach($scope.routes,function(route){route.main&&($scope.mainRoute=route.id)}))}),$scope.update=function(){return angular.forEach($scope.routes,function(route){route.main=route.id===$scope.mainRoute}),$scope.routes}}]});