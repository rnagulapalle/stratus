!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","https://platform.twitter.com/widgets.js"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Components.Tweet={bindings:{ngModel:"="},controller:function($scope,$element,$attrs,$parse,$window,$log){this.uid=_.uniqueId("tweet_"),Stratus.Instances[this.uid]=$scope,$scope.model=$parse($attrs.ngModel),$scope.tweet=$scope.model($scope.$parent),$scope.render=function(){"string"==typeof $scope.tweet&&$scope.tweet.length&&$window.twttr.widgets.createTweet($scope.tweet,$element[0],{conversation:"all",cards:"visible",linkColor:"#cc0000",theme:"light"})},$scope.tweet&&$scope.render(),$scope.$parent.$watch($attrs.ngModel,function(tweet){tweet&&0!==_.strcmp(tweet,$scope.tweet)&&($scope.tweet=tweet,$scope.render())})}}});