!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Components.OptionValue={bindings:{ngModel:"=",multiple:"<",options:"=",type:"@"},controller:function($scope){Stratus.Instances[_.uniqueId("option_value_")]=$scope,$scope.items=[];var normalize=function(){angular.isArray($scope.items)||($scope.items=[]),$scope.items.length||$scope.items.push({})};normalize(),$scope.$parent.$watch(function(){return $scope.$ctrl.ngModel},function(items){items!==$scope.items&&($scope.items=items,normalize())},!0),$scope.$watch("items",function(items){$scope.$ctrl.ngModel=items},!0)},templateUrl:Stratus.BaseUrl+Stratus.BundlePath+"components/optionValue"+(Stratus.Environment.get("production")?".min":"")+".html"}});