!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","angular-material"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Components.Facebook={bindings:{pageId:"@",appId:"@",token:"@"},controller:function($scope,$http){Stratus.Instances[_.uniqueId("facebook_")]=$scope;var loadJob,facebookPageName="Brand New Congress",facebookPageId="brandnewcongress",relatedContainerOffset=-150,container=document.getElementById("facebookPageContainer"),relatedContainer=document.getElementById("currentMediaContainer");function loadPlugin(){var height=relatedContainer.offsetHeight;height=height>0?height+relatedContainerOffset:height;for(var width=container.offsetWidth,content='<div class="fb-page" data-href="https://www.facebook.com/'+facebookPageId+'" data-tabs="timeline" data-width="'+(width=width<500?500:width)+'" data-height="'+(height=height<500?500:height)+'" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"></div><blockquote cite="https://www.facebook.com/'+facebookPageId+'" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/'+facebookPageId+'">'+facebookPageName+"</a></blockquote>";container.firstChild;)container.removeChild(container.firstChild);container.innerHTML=content,FB.XFBML.parse()}FB.Event.subscribe("xfbml.render",function(){!function(){var plugin=document.querySelector(".fb-page");plugin.querySelector("span").style.width="100%";var iframe=plugin.querySelector("iframe");iframe.width="100%",iframe.style.width="100%";var width=container.offsetWidth;if(width>500){var scale=width/500;iframe.style.transform="scale("+scale+")",iframe.style["transform-origin"]="0 0"}}()}),loadJob=Stratus.Chronos.add(.2,function(){relatedContainer.offsetHeight>0&&(Stratus.Chronos.disable(loadJob),loadPlugin())},this),Stratus.Chronos.enable(loadJob),window.onresize=function(){loadPlugin()},$scope.$watch("bindings",function(){})},template:""}});